@using GamersHub.Common
@model GamersHub.Web.ViewModels.Posts.PostDeleteViewModel
@{
    ViewData["Title"] = "Delete Post";

    var postUrl = UrlParser.ParseToUrl(Model.Name);
}

<div class="text-center ">
    <h1 class="display-3">@this.ViewData["Title"]</h1>
</div>

<hr/>
<div class="card">
    <div class="card-header">
        <h5 class="d-inline">@Model.UserUsername</h5>
        <h5 class="float-right">User Publications: @Model.Publications</h5>
    </div>
    <div class="card-body">
        <h5 class="card-title">@Model.Name</h5>
        <p class="card-text">@Html.Raw(Model.SanitizedContent)</p>
    </div>
    <div class="card-footer">
        <span class="d-inline"><i class="fas fa-calendar-alt"></i> Posted On: @Model.CreatedOn.ToString("MM/dd/yyyy hh:mm tt")</span>
        @if (Model.ModifiedOn != null)
        {
            <span class="float-right"><i class="fas fa-calendar-alt"></i> Last Modified: @Model.ModifiedOn.Value.ToString("MM/dd/yyyy hh:mm tt")</span>
        }
    </div>
</div>

<div class="d-block">
    <h2>Are you sure you want to Delete this post ?</h2>
</div>

<form class="d-inline-block m-1" asp-controller="Posts" asp-action="Delete" method="post">
    <div class="form-group">
        <input type="hidden" name="ForumName" value="@Model.ForumName"/>
    </div>
    <div class="form-group">
        <input type="hidden" name="ForumId" value="@Model.ForumId"/>
    </div>
    <div class="form-group">
        <input type="submit" value="Delete" class="btn btn-danger btn-lg"/>
    </div>
</form>

<div class="d-inline-block m-1">
    <a asp-controller="Posts" asp-action="@postUrl" asp-route-id="@Model.Id" type="submit" class="btn btn-primary btn-lg">Cancel</a>
</div>